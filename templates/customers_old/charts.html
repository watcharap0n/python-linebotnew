{% extends "customers_old/layout.html" %}
{% block content %}

    <nav class="navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow">
    </nav>
    <!-- End of Topbar -->

    <!-- Begin Page Content -->
    <div class="container-fluid">
        <!-- Page Heading -->
        <h1 class="h3 mb-2 text-gray-800">Boardcast</h1>

        <div class="row">
            <div class="col-xl-6 col-md-6 mb-4">
                <div class="card border-left-success shadow h-100 py-2">
                    <div class="card-body">
                        <div class="col mr-2">
                            <form class="user" method="POST" action="">
                                <div class="row">
                                    <div class="col-sm-8">
                                        <label for="broadcast"
                                               class="text-xs font-weight-bold text-danger text-uppercase mb-1">Text:</label>
                                        <input type="text" class="form-control" id="broadcast" name="msg" required>
                                    </div>

                                </div>
                                <div class="row">
                                    <div class="col-sm-8">
                                        <label for="broadcast"
                                               class="text-xs font-weight-bold text-danger text-uppercase mb-1">Image
                                            URL:</label>
                                        <input type="text" class="form-control" id="broadcast_img" name="bcImg">
                                    </div>
                                    <div class="col-sm-4">
                                        <br>
                                        <button type="submit" class="btn btn-outline-success">
                                            <i class="fa fa-bullhorn" aria-hidden="true"></i>
                                            Boardcast
                                        </button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-xl-6 col-md-6 mb-4">
                <div class="card border-left-success shadow h-100 py-2">
                    <div class="card-body">
                        <div class="row no-gutters align-items-center">
                            <div class="col mr-2">
                                <div class="text-xs font-weight-bold text-primary text-uppercase mb-1">จำนวนข้อความ
                                </div>
                                <div class="h5 mb-0 font-weight-bold text-gray-800 mm"></div>
                            </div>
                            <div class="">
                                <i class="fas fa-comments fa-2x text-gray-300"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Content Row -->

        <div class="row">
            <div class="col-xl-4 col-lg-5 d-none">
                <div class="card shadow mb-4">

                    <div class="card-header py-3">
                        <h6 class="m-0 font-weight-bold text-primary">intent</h6>
                    </div>
                    <div class="card-body">
                        <div class="chart-pie pt-4">
                            <canvas id="myPieChart"></canvas>
                        </div>
                        <hr>

                    </div>
                </div>
            </div>
        </div>

        <div class="card shadow mb-4">
            <div class="card-header py-3">
                <div class="row">
                    <div class="col-sm-8">
                        <ul class="nav nav-pills" role="tablist">

                            <li class="nav-item" style="margin-left: 10px">
                                <a class="btn btn-outline-success active" data-toggle="pill" href="#menu1">
                                    <i class="fa fa-reply" aria-hidden="true"></i>
                                    นำเข้า
                                    <span class="badge badge-light"></span>
                                </a>
                            </li>

                        </ul>
                    </div>

                    <div class="col-sm-4">
                        <div class="align-content-end">
                            <a href="#" class="btn btn-success">
                                <i class="fa fa-file-excel-o"></i>
                                Export Excel
                            </a>

                            <button type="button" class="btn btn-danger" data-toggle="modal" data-target="#myModal">
                                <i class="fa fa-trash" aria-hidden="true"></i>
                                Remove All
                            </button>
                            <div class="modal" id="myModal">
                                <div class="modal-dialog">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <h4 class="modal-title">Confirm Delete</h4>
                                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                                        </div>
                                        <div class="modal-body">
                                            Delete all transaction... <br>
                                            Are you sure ?
                                        </div>
                                        <div class="modal-footer">
                                            <a
                                                    href="/delete/#"
                                                    class="btn btn-danger btn">Remove All</a>
                                            <button type="button" class="btn btn-danger btn" data-dismiss="modal">Close
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <form class="kane" action="" method="POST">
                <div class="card-body">
                    <div class="tab-content">
                        <div id="menu1" class="tab-pane active">
                            <div class="footer">
                                <div class="dropdown" style="margin-bottom: 15px">
                                    <button type="button" class="btn btn-outline-secondary dropdown-toggle"
                                            data-toggle="dropdown">
                                        Tag Sort
                                    </button>
                                    <div class="dropdown-menu">
                                    </div>
                                </div>
                                <div class="table-responsive">
                                    <table class="display" id="restTable">
                                        <thead>
                                        <tr>
                                            <th>
                                                <input type="checkbox" name="select2" id="select-rest">
                                            </th>
                                            <th>แท็ก</th>
                                            <th>ชื่อ</th>
                                            <th>ผลิตภัณฑ์</th>
                                            <th>ผลิตภัณฑ์อื่น</th>
                                            <th>บริษัท</th>
                                            <th>เบอร์</th>
                                            <th>อีเมล</th>
                                            <th>อีเมล(ไลน์)</th>
                                            <th>ข้อความ</th>
                                            <th>ชื่อโปรไฟล์</th>
                                            <th>วัน/เวลา</th>
                                            <th>ช่องทาง</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        {% for m in data.import %}
                                            <tr>
                                                <td>
                                                    <div class="form-group">
                                                        <input class="checkkey"
                                                               type="checkbox"
                                                               name="key"
                                                               id="{{ m.key }}"
                                                               data-name="{{ m.key }}"
                                                               value="{{ m.key }}"
                                                                {% if m.key in data.import.key %} checked {% endif %}>
                                                    </div>
                                                </td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                            </tr>
                                        {% endfor %}
                                        </tbody>
                                    </table>
                                </div>
                                <br>
                                <div class="footer">
                                    <div class="row" style="margin-left: 15px">
                                        <div style="margin-right: 12px">
                                            <button type="submit" name="delete_button" value="Insert_button"
                                                    class="btn btn-success btn-sm">
                                                <i class="fa fa-check-square-o"></i>
                                                Insert Index
                                            </button>
                                        </div>
                                        <div style="margin-right: 12px">
                                            <button type="submit" name="delete_button" value="Excel_rest"
                                                    class="btn btn-warning btn-sm">
                                                <i class="fa fa-check-square-o"></i>
                                                Excel Index
                                            </button>
                                        </div>
                                        <div style="margin-right: 12px">
                                            <button type="submit" name="delete_button" value="Delete_rest"
                                                    class="btn btn-danger btn-sm">
                                                <i class="fa fa-check-square-o"></i>
                                                Delete Index
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="card-footer">
                        <br><br>
                    </div>
            </form>
        </div>
    </div>


    <div>

    <footer class="sticky-footer bg-white">
        <div class="container my-auto">
            <div class="copyright text-center my-auto">
                <span>Copyright &copy; Your Website 2020</span>
            </div>
        </div>
    </footer>

    <script>
        $(document).ready(function () {
            $('#dataTable').DataTable({
                // "order": [[0, "desc"]]
                "columnDefs": [
                    {"orderable": false, "targets": 0}
                ]
            });
        });
    </script>

    <script>
        $(document).ready(function () {
            $('#restTable').DataTable({
                // "order": [[0, "desc"]]
                "columnDefs": [
                    {"orderable": false, "targets": 0},
                ]
            });
        });

        $(document).ready(function () {
            $('[data-toggle="CB010"]').tooltip()
            $('[data-toggle="CC010"]').tooltip()
            $('[data-toggle="CG010"]').tooltip();
            $('[data-toggle="CI010"]').tooltip();
            $('[data-toggle="CJ010"]').tooltip();
            $('[data-toggle="CM010"]').tooltip();
            $('[data-toggle="CF010"]').tooltip();
            $('[data-toggle="CP010"]').tooltip();
            $('[data-toggle="CE010"]').tooltip();
            $('[data-toggle="CH010"]').tooltip();
            $('[data-toggle="CK010"]').tooltip();
            $('[data-toggle="CD010"]').tooltip();
            $('[data-toggle="RC010"]').tooltip();
            $('[data-toggle="RA010"]').tooltip();
            $('[data-toggle="RB010"]').tooltip();
            $('[data-toggle="CN010"]').tooltip();
        });


        // $(document).ready(function () {
        //     let list = []
        //     $("#tageang").click(function (e) {
        //         e.preventDefault()
        //         $("input[class='kaneja']").each(function () {
        //             if ($(this).prop("checked")) {
        //                 list.push($(this).attr('id'))
        //                 console.log(list)
        //             } else {
        //                 console.log('None')
        //             }
        //         });
        //         req = $.ajax({
        //             type: 'POST',
        //             url: '/new_chart',
        //             data: JSON.stringify({'query': list}),
        //             dataType: "json",
        //             contentType: "application/json; charset=UTF-8"
        //         })
        //         console.log(list)
        //     });
        // });
    </script>


    <script>
        document.getElementById('select-all').onclick = function () {
            var checkboxes = document.getElementsByName('key');
            for (var checkbox of checkboxes) {
                checkbox.checked = this.checked;
            }
        }
    </script>


    <script>
        document.getElementById('select-rest').onclick = function () {
            var checkboxes = document.getElementsByName('insert');
            for (var checkbox of checkboxes) {
                checkbox.checked = this.checked;
            }
        }
    </script>


{% endblock %}
